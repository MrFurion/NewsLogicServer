# Название приложения
NewsLogicServer
(Весь код находиться в ветке develop.)

## Описание
Сервер отвечает за работу с новостями и комментариями. Получить токен доступа можно на сервере https://github.com/MrFurion/NewsSecurityServer
Сервер содержит модули. Api - отвечает за предоставление endpoints  для взаимодействия с сервером.  
Core - содержит логику обработки запросов и взаимодействие с БД. 
Common  содержит DTO и необходимый мапинг.
spring-boot-starter-exception - стартер для обработки ошибок. 
spring-boot-starter-logger - стартер для логирования контролеров. 

## Интерфейсы
Контроллер для управления новостями через REST API. Поддерживает следующие операции:

### NewsController

Получение новости по ID
GET /news/{id}
Возвращает новость по уникальному идентификатору (UUID).

Получение всех новостей с пагинацией
GET /news
Возвращает список всех новостей с поддержкой пагинации (по умолчанию 5 на странице).

Получение комментариев к новости
GET /news/{id}/comments
Возвращает список комментариев к указанной новости с пагинацией.

Поиск новостей по заголовку и тексту
POST /news/search
Полнотекстовый поиск новостей с возможностью сортировки, указания полей и настройки количества результатов.

Создание новости
POST /news
Создает новую новость. Требуются права администратора или журналиста.

Обновление новости
PUT /news/{id}
Обновляет существующую новость по ID. Требуются права администратора или журналиста.

Удаление новости
DELETE /news/{id}
Удаляет новость по ID. Требуются права администратора или журналиста.

Особенности:
Безопасность: Реализована авторизация через роли (ADMIN, JOURNALIST, SUBSCRIBER).
Документация API: Используется Swagger для описания операций.
Мониторинг производительности: Аспект @MonitorPerformance для отслеживания выполнения операций.

### CommentsController

Получение комментария по ID
GET /comments/{uuid}
Возвращает комментарий по его уникальному идентификатору (UUID).
Доступ: Администратор, журналист, подписчик.

Поиск комментариев
POST /comments/search
Полнотекстовый поиск комментариев по тексту и имени пользователя с возможностью сортировки и пагинации.
Доступ: Администратор, журналист, подписчик.

Создание комментария к новости
POST /comments/{uuid}
Создает новый комментарий для указанной новости.
Доступ: Администратор, подписчик.

Обновление комментария
PUT /comments/{uuid}
Обновляет существующий комментарий по его UUID.
Доступ: Администратор, подписчик.

Удаление комментария
DELETE /comments/{uuid}
Удаляет комментарий по его UUID.
Доступ: Администратор, подписчик.

Особенности
Авторизация: Реализована проверка прав доступа для различных ролей.
Документация API: Используется OpenAPI аннотации (Swagger) для описания методов.
Мониторинг: Аспект @MonitorPerformance для измерения времени выполнения операций.
Валидация данных: Используется @Validated для проверки входных данных.

## Установка и запуск
Для запуска приложения необходимо. 
Открыть приложение в IntelliJ IDEA. Запустить файл docker-compose.yml в корне проекта. 
После создания базы данных и ее автоматического подключения, запустить класс NewsLogicServerApplication в корне проекта.



